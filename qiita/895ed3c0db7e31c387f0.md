<!--
title:   MOZER 【ターミナル・Git課題】
tags:    Git,GitHub
id:      895ed3c0db7e31c387f0
private: true
-->
gitやターミナルでの操作はなれるまでかなり大変ですができるようになるとかっこよく簡単に色んな操作ができるようになります。
解説として最低限のもののみ用意しました。その単語で使い方などをきちんと調べながら問題に取り組んでみましょう。
斜め文字になっている問題は製作途中のものです。


## 課題01 ターミナルに慣れよう

### パスを理解しよう

![git_practice.004.jpeg](https://qiita-image-store.s3.amazonaws.com/0/10943/97a0b860-9647-d202-b45a-79897d1e2d32.jpeg "git_practice.004.jpeg")

皆さんが普段Finderで見ているフォルダやファイルが、ターミナル上ではスラッシュ区切りのパスというもので表されます。たとえばデスクトップであれば`/User/(ユーザー名)/Desktop`というパスで表されます。
ターミナルはこのパスというものを使うことで自分の今の場所を表したり、作業したいフォルダに移動したりすることができます。

### 基本的なコマンド

#### pwd

`pwd`コマンドは自分の今いる場所を表示するコマンドです。たとえばターミナルを開いて最初にこのコマンドを打つと`/User/(ユーザー名)`と表示されると思います。これは<b>Homeディレクトリ</b>と呼ばれていてユーザーがあつかうフォルダの中で一番基本的な場所になっています。

#### ls

`ls`コマンドはそのフォルダの中にあるファイルやフォルダの一覧を表示します。`ls -a`とすると一般にドットファイルと呼ばれる普段Finderなどからは見れないファイルを見ることが出来ます。

#### mkdir

`mkdir`コマンドは今いる場所に新しいフォルダをつくるコマンドです。

#### cd

`cd`コマンドはChange Directoryの略でその名の通り自分がいる場所を移動する時に使います。この時にパスを指定して移動するのですが、そのパスとして自分の今いる場所からの相対的なパスとその場所を指す唯一の表記である絶対的なパスの二種類を使うことが出来ます。

### 問題

1. 自分のHomeディレクトリに作業用フォルダをつくろう
1. 作ったフォルダがHomeディレクトリにあることを確認してみよう
1. 作業用フォルダに移動してみよう
1. 自分の今いるフォルダの位置を確認しよう

## 課題02 gitの設定をしよう

この課題ではこれからの課題に取り組んでもらうための準備をしていきます。

### 目次

1. GitHubアカウントを作る
1. sshキーを登録する

### GitHubアカウントを作る

[こちらのサイト](http://qiita.com/rshibasa/items/f62db870ed573ca4dced)を参考にしてください。基本的にはメールアドレスだけで登録することができます。

### sshキーを登録する

GitHubを使っていくにあたって、これまでの作業でも使っていたSSHを使うとメールアドレスとパスワードの入力が省略できるようになってかなり便利になります。

英語がある程度読めれば[公式のドキュメント](https://help.github.com/articles/connecting-to-github-with-ssh/)がかなり詳しいのでそちらを参考に進めてください。ここでは簡単に最低限ステップを説明します。

まずSSHキーの用意です。これはすでに作ったものを使えるので、MOZERのほうでつくったものを利用するという形でもかまいません。
新しく作るためにはターミナルで`ssh-keygen`というコマンドを使います。具体的には

```
$ ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
```

というように自分のメールアドレスで作成してください。これを実行すると

```
Enter a file in which to save the key (/Users/(ユーザー名)/.ssh/id_rsa):
```

というものが表示されると思います。ここで`~/.ssh/id_rsa_github`というように用途がわかる名前を入力しておくといいと思います。

ここまでできたらsshの準備は完了です。最後にこれをGitHubと結びつけます。
まずターミナルで

```
$ pbcopy < ~/.ssh/id_rsa_github.pub
```

というコマンドを実行します。これでクリップボードにGitHubに入力しなければならない文字列がコピーされます。その後[このページ](https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/)にある画像に従って進めてください。すべて終わるとGitHubにsshキーを紐付けることができます。

## 課題03 gitの基本操作を覚えよう

まず大前提としてgitとGitHubは全く違うものという認識をしっかりもってください。
gitはバージョン管理システムと呼ばれ、プログラムなどがどのように変更されていったのかを管理していくものです。これによって複数人が別々に同じものを編集していてもそれを適切に統合できたり、失敗した時に時を巻き戻したりすることが可能になります。
一方GitHubとはgitのホスティングサービスと呼ばれるものです。git単体であるとファイルの変更履歴しか追えませんがこのホスティングサービスを使うことによって他の人とその状態を共有したりあるところまでの状態をネット上に保存しておくことができます。

ホスティングサービスには他にもGitlabなどがあります。また自分でサーバーを用意してそこにホスティングする場合もあります。

### 今回使うコマンド

#### init

`git init`は今いるフォルダをgitで管理するように設定するコマンドです。必ず自分が管理したいフォルダにいることを確認して使うようにしましょう。

#### add

`git add`コマンドは新しくつくったファイルをgitで変更履歴をおうように登録したり、すでに登録されているファイルの更新をgitが追えるようにするコマンドです。

#### commit

`git commit`コマンドは実際に変更した状態を今までの状態との差分として保存するコマンドです。これによってgitは差分を保存していき、またそれらに固有のIDのようなものがつくのでそれを指定することでそこまで状態を戻すことができます。

#### push

`git push`は手元のgitの状態をホスティングサービスなどに送るコマンドです。これによって他の人と自分が編集した内容を共有できるようになります。また間違って手元のデータを消してしまった時のバックアップというふうにも使うことが可能です。

### 問題

1. リポジトリを作ってみよう
1. 作業用フォルダにリポジトリ用のフォルダをつくろう
1. GitHubの画面に従って設定してみよう
1. ファイルをつくって`git add`してみよう
1. 最初のコミットをしよう
1. `git push`してみよう

GitPracticeというリポジトリを作る課題です。中身はどんなものでもいいので出来たらとうようとザイルにメンションもしくはDMでURLを教えてください。

#### GitHubでのリポジトリの作り方

![git_practice.001.jpeg](https://qiita-image-store.s3.amazonaws.com/0/10943/9cf3c0f3-5fb3-5308-8a8c-6cee8cc6a01c.jpeg "git_practice.001.jpeg")

![git_practice.002.jpeg](https://qiita-image-store.s3.amazonaws.com/0/10943/c15c3363-f86a-bede-6da2-81cb7f3aaa98.jpeg "git_practice.002.jpeg")

![git_practice.003.jpeg](https://qiita-image-store.s3.amazonaws.com/0/10943/1dacfdf6-0f8b-e7b8-e59a-35dc950b0f88.jpeg "git_practice.003.jpeg")



## 課題04 チーム開発の基本を覚えよう

gitは自分でつかうだけでも失敗をなかったことにしたり単純にほぼ無制限のオンラインストレージとして使えて便利ですが、その真価を発揮するのはチーム開発の時です。ですがその分gitの操作が難しくなってくる面もあります。

### 今回使うコマンド

#### clone

`git clone`はネット上にあるリポジトリを自分の手元にコピーするコマンドです。これによって持ってきたリポジトリは`git init`などしなくてもそのままでgitが使えるようになっています。

#### checkout

`git checkout`はブランチを切り替えるコマンドです。ブランチとはgitの状態を枝分かれさせるコマンドであるブランチで変更した内容はマージなどを行わない限り他のブランチに影響を与えません。チーム開発ではこのブランチを活用することで色んな人が同時に開発できるようになっています。

#### pull

`git pull`はネット上に上がっている最新の状態を手元にとってくるコマンドです。具体的にはこの後出てくる`git fetch`と`git merge`を同時に行うコマンドになっています。

### 問題

1. リポジトリに参加しよう
1. リポジトリをクローンしてみよう
1. 自分のブランチをつくってみよう
1. 自分のブランチでファイルを編集してプッシュしよう
1. プルリクエストをつくってみよう
1. `git pull`で自分のリポジトリを最新の状態にしよう

課題03が終わったことを確認したらこちらから課題04用のリポジトリへの招待を送ります。メールを確認して参加してください。実際には自分のブランチと自分のフォルダを作った後、手元のmasterブランチにその変更を反映するところまでが課題となります。masterブランチには絶対pushしないようにしてください。

## 課題05 gitでトラブルを回避しよう

gitの本領はトラブル回避です。ここでは具体的にgitのトラブル解決に挑戦してみましょう。

### 今回使うコマンド

#### reset

`git reset`は指定した状態までリポジトリの状態を元に戻すコマンドです。これによって失敗をなかったことにできます。

#### fetch

`git fetch`はネット上のブランチの最新の状態をローカルでも扱えるようにするコマンドです。

#### rebase

`git rebase`は今編集しているブランチの過去を変えるコマンドです。

#### merge

`git merge`は今編集しているブランチに他のブランチの状態を統合するコマンドです。

### 問題

1. [このリポジトリ](https://github.com/touyou/NazotokiGit)をクローンして３つ前の状態に隠れた答えを見つけ出そう
1. *`git merge`して起きたコンフリクトを直してみよう* 
1. *`git rebase`で他の人の変更を取り込もう*

## 発展課題・Tips

### 問題

1. zshかfishを入れてターミナルを見やすくする

zshやfishとはターミナルの種類です。Macでは最初にbashというものがターミナルとして使われています。Windows10であればbash on Ubuntuというものが最近できました。このbashに対してzshやfishはカスタマイズしやすかったり、便利な拡張機能がもともと組み込まれていたりとターミナルを使うようになってくると必須になってくるものです。
検索してデフォルトのターミナルをzshもしくはfishにしてみましょう。
最終目標はなにも打たなくてもどのブランチにいるか、今gitの状態がどうなっているのかがわかるようにするところまでです。

### Tips

1. `git status`で現在の状況を確認する
1. `git mergetool`を使う
1. `git log`でファイルをどこで変更したか確認する
1. `git show`でコミットの差分を見る

下の参考サイトなどにもあるのでぜひこれらのコマンドの使い方を調べてみましょう。

## 参考サイト

- [デザイナーがこうやってGit覚えて大好きになったよ♡](http://qiita.com/yunico-jp/items/87bdd13971e82833f6bb)
- [難しいGitコマンドは、仕組みから理解してみよう by half](http://qiita.com/_ha1f/items/2dca1047c57d4f0bd465)
- [git reset がわからない](http://qiita.com/annyamonnya/items/d845597606fbabaabcad)
- [Gitコンフリクト解消ガイド（git mergetoolの使い方）](http://qiita.com/yuya_presto/items/5d99499cf96c0ebb09f8)
- [mix-git-challenge 初級](https://github.com/mixi-git-challenge/git-challenge-is-order-an-adding)
- [mix-git-challenge 中級](https://github.com/mixi-git-challenge/git-challenge-minesweeper)